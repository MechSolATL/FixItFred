@using Microsoft.AspNetCore.Http.Extensions
@using System.Diagnostics
@using MVP_Core.ViewModels
@model SeoMetaViewModel
@* _SEOHead.cshtml: Injects SEO metadata into the <head> section. *@
@* [FixItFredComment:Sprint1003 - SEO Meta Injection] Enhanced with canonical links and OpenGraph tags *@
@* [Sprint91_27] Added fallback meta handling and trace ID comments *@
@{
    var title = Model.Title ?? "Service Atlanta";
    var metaDescription = Model.MetaDescription ?? "Your trusted pros for Plumbing, HVAC, and Water Filtration.";
    var keywords = Model.Keywords ?? "plumbing, HVAC, heating, air conditioning, water filtration";
    var robots = Model.Robots ?? "index, follow";
    var canonicalUrl = Model.CanonicalUrl ?? Context.Request.GetDisplayUrl();
    var ogImage = Model.OgImage ?? "/images/service-atlanta-og.jpg";
    var traceId = Model.TraceId ?? Activity.Current?.Id ?? Context.TraceIdentifier;
    var pagePath = Model.PagePath ?? Context.Request.Path.Value ?? "/";
}
<!-- SEO Trace: @pagePath @traceId -->
<title>@title</title>
<meta name="description" content="@metaDescription" />
<meta name="keywords" content="@keywords" />
<meta name="robots" content="@robots" />

@* [FixItFredComment:Sprint1003 - SEO Meta Injection] Canonical link for SEO *@
<link rel="canonical" href="@canonicalUrl" />

@* [FixItFredComment:Sprint1003 - SEO Meta Injection] OpenGraph meta tags *@
<meta property="og:title" content="@title" />
<meta property="og:description" content="@metaDescription" />
<meta property="og:type" content="website" />
<meta property="og:url" content="@canonicalUrl" />
<meta property="og:image" content="@ogImage" />
<meta property="og:site_name" content="Service Atlanta" />
