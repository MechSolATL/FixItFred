@page
@model MVP_Core.Pages.Technician.ProfileModel
@inject MVP_Core.Services.Admin.RewardTriggerService RewardTriggerService
@{
    ViewData["Title"] = "Technician Profile";
    var tierStatus = Model.TierStatus;
}
<h2>Technician Profile</h2>
@if (tierStatus != null)
{
    <div class="card mb-3">
        <div class="card-body">
            <h4>@tierStatus.TechnicianName</h4>
            <span class="badge bg-info">Tier: @tierStatus.CurrentTier</span>
            <span class="badge bg-success">Points: @tierStatus.TotalPoints</span>
            <span class="badge bg-warning">Last Reward: @(tierStatus.LastRewardSentAt?.ToLocalTime().ToString("g") ?? "Never")</span>
            @if (tierStatus.IsEligibleForReward)
            {
                <span class="badge bg-primary">Eligible for Reward!</span>
            }
            else
            {
                <span class="badge bg-secondary">Not Eligible</span>
            }
        </div>
    </div>
}
<!-- Existing profile content below -->
@* ...existing code... *@
